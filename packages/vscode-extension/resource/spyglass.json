{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"type": "object",
	"title": "Spyglass Config",
	"description": "https://spyglassmc.com/user/config",
	"definitions": {
		"NameLint": {
			"anyOf": [
				{
					"type": ["string", "null"]
				},
				{
					"type": "array",
					"minItems": 2,
					"maxItems": 2,
					"default": ["error", "VALUE"]
				}
			]
		},
		"Patterns": {
			"type": ["string", "array"],
			"items": {
				"type": "string",
				"format": "regex"
			}
		},
		"Action": {
			"title": "Action",
			"type": "object",
			"oneOf": [{ "required": ["declare"] }, { "required": ["report"] }],
			"properties": {
				"declare": {
					"enum": ["block", "file", "public"]
				},
				"report": {
					"enum": ["inherit", "hint", "information", "warning", "error"]
				}
			},
			"additionalProperties": false
		},
		"Complex": {
			"title": "Complex",
			"type": "object",
			"properties": {
				"if": {
					"type": ["object", "array"],
					"properties": {
						"category": {
							"$ref": "#/definitions/Patterns"
						},
						"pattern": {
							"$ref": "#/definitions/Patterns"
						},
						"excludePattern": {
							"$ref": "#/definitions/Patterns"
						},
						"namespace": {
							"$ref": "#/definitions/Patterns"
						},
						"excludeNamespace": {
							"$ref": "#/definitions/Patterns"
						}
					},
					"additionalProperties": false,
					"items": {
						"$ref": "#/definitions/Complex/properties/if"
					}
				},
				"then": {
					"$ref": "#/definitions/Action"
				},
				"override": {
					"anyOf": [
						{ "$ref": "#/definitions/Complex" },
						{ "type": "array", "items": { "$ref": "#/definitions/Complex" } }
					]
				}
			},
			"additionalProperties": false
		}
	},
	"properties": {
		"env": {
			"type": "object",
			"properties": {
				"dataSource": {
					"enum": ["GitHub"]
				},
				"dependencies": {
					"type": "array",
					"items": {
						"type": "string"
					}
				},
				"feature": {
					"type": "object",
					"properties": {
						"codeActions": { "type": "boolean" },
						"colors": { "type": "boolean" },
						"completions": { "type": "boolean" },
						"documentHighlighting": { "type": "boolean" },
						"documentLinks": { "type": "boolean" },
						"foldingRanges": { "type": "boolean" },
						"formatting": { "type": "boolean" },
						"hover": { "type": "boolean" },
						"inlayHint": {
							"type": "object",
							"properties": {
								"enabledNodes": {
									"type": "array",
									"items": { "type": "string" }
								}
							},
							"additionalProperties": false
						},
						"semanticColoring": { "type": "boolean" },
						"selectionRanges": { "type": "boolean" },
						"signatures": { "type": "boolean" }
					},
					"additionalProperties": false
				},
				"gameVersion": {
					"type": "string",
					"examples": ["Auto"]
				},
				"language": {
					"type": "string",
					"examples": ["Default"]
				},
				"permissionLevel": {
					"type": "integer"
				},
				"plugins": {
					"type": "array",
					"items": {
						"type": "string"
					}
				},
				"mcmetaSummaryOverrides": {
					"type": "object"
				},
				"useFilePolling": {
					"type": "boolean"
				}
			},
			"additionalProperties": false
		},
		"format": {
			"type": "object",
			"additionalProperties": {
				"title": "UNDOCUMENTED"
			}
		},
		"lint": {
			"type": "object",
			"properties": {
				"nameOfNbtKey": {
					"$ref": "#/definitions/NameLint"
				},
				"nameOfObjective": {
					"$ref": "#/definitions/NameLint"
				},
				"nameOfScoreHolder": {
					"$ref": "#/definitions/NameLint"
				},
				"nameOfTag": {
					"$ref": "#/definitions/NameLint"
				},
				"nameOfTeam": {
					"$ref": "#/definitions/NameLint"
				},
				"undeclaredSymbol": {
					"type": "array",
					"items": {
						"oneOf": [
							{ "$ref": "#/definitions/NameLint" },
							{ "$ref": "#/definitions/Action" },
							{ "$ref": "#/definitions/Complex" }
						]
					}
				}
			},
			"additionalProperties": {
				"title": "UNDOCUMENTED"
			}
		},
		"snippet": {
			"type": "object",
			"additionalProperties": {
				"type": "string"
			}
		}
	},
	"additionalProperties": false
}
